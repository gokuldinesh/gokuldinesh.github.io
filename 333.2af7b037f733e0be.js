(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[333],{5356:function(Q){!function(I){"use strict";var c=function(){return{escape:function(i){return i.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:a,mimeType:function(i){var p=a(i).toLowerCase();return function(){var i="application/font-woff",p="image/jpeg";return{woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:p,jpeg:p,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[p]||""},dataAsUrl:function(i,p){return"data:"+p+";base64,"+i},isDataUrl:function(i){return-1!==i.search(/^(data:)/)},canvasToBlob:function(i){return i.toBlob?new Promise(function(p){i.toBlob(p)}):function(i){return new Promise(function(p){for(var m=window.atob(i.toDataURL().split(",")[1]),f=m.length,P=new Uint8Array(f),O=0;O<f;O++)P[O]=m.charCodeAt(O);p(new Blob([P],{type:"image/png"}))})}(i)},resolveUrl:function(i,p){var m=document.implementation.createHTMLDocument(),f=m.createElement("base");m.head.appendChild(f);var P=m.createElement("a");return m.body.appendChild(P),f.href=p,P.href=i,P.href},getAndEncode:function(i){return _.impl.options.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+(new Date).getTime()),new Promise(function(m){var P,f=new XMLHttpRequest;if(f.onreadystatechange=function(){if(4===f.readyState){if(200!==f.status)return void(P?m(P):y("cannot fetch resource: "+i+", status: "+f.status));var T=new FileReader;T.onloadend=function(){var U=T.result.split(/,/)[1];m(U)},T.readAsDataURL(f.response)}},f.ontimeout=function(){P?m(P):y("timeout of 30000ms occured while fetching resource: "+i)},f.responseType="blob",f.timeout=3e4,f.open("GET",i,!0),f.send(),_.impl.options.imagePlaceholder){var O=_.impl.options.imagePlaceholder.split(/,/);O&&O[1]&&(P=O[1])}function y(T){console.error(T),m("")}})},uid:(i=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+i++}),delay:function(i){return function(p){return new Promise(function(m){setTimeout(function(){m(p)},i)})}},asArray:function(i){for(var p=[],m=i.length,f=0;f<m;f++)p.push(i[f]);return p},escapeXhtml:function(i){return i.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(i){return new Promise(function(p,m){var f=new Image;f.onload=function(){p(f)},f.onerror=m,f.src=i})},width:function(i){var p=x(i,"border-left-width"),m=x(i,"border-right-width");return i.scrollWidth+p+m},height:function(i){var p=x(i,"border-top-width"),m=x(i,"border-bottom-width");return i.scrollHeight+p+m}};var i;function a(i){var p=/\.([^\.\/]*?)$/g.exec(i);return p?p[1]:""}function x(i,p){var m=window.getComputedStyle(i).getPropertyValue(p);return parseFloat(m.replace("px",""))}}(),A=function(){var l=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(r,e,n){return a(r)?Promise.resolve(r).then(g).then(function(h){var s=Promise.resolve(r);return h.forEach(function(C){s=s.then(function(w){return u(w,C,e,n)})}),s}):Promise.resolve(r)},shouldProcess:a,impl:{readUrls:g,inline:u}};function a(r){return-1!==r.search(l)}function g(r){for(var n,e=[];null!==(n=l.exec(r));)e.push(n[1]);return e.filter(function(d){return!c.isDataUrl(d)})}function u(r,e,n,d){return Promise.resolve(e).then(function(s){return n?c.resolveUrl(s,n):s}).then(d||c.getAndEncode).then(function(s){return c.dataAsUrl(s,c.mimeType(e))}).then(function(s){return r.replace(function(s){return new RegExp("(url\\(['\"]?)("+c.escape(s)+")(['\"]?\\))","g")}(e),"$1"+s+"$3")})}}(),k=function(){return{resolveAll:function(){return a(document).then(function(g){return Promise.all(g.map(function(u){return u.resolve()}))}).then(function(g){return g.join("\n")})},impl:{readAll:a}};function a(){return Promise.resolve(c.asArray(document.styleSheets)).then(function(r){var e=[];return r.forEach(function(n){try{c.asArray(n.cssRules||[]).forEach(e.push.bind(e))}catch(d){console.log("Error while reading CSS rules from "+n.href,d.toString())}}),e}).then(function(r){return r.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return A.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(r){return r.map(o)});function o(r){return{resolve:function(){return A.inlineAll(r.cssText,(r.parentStyleSheet||{}).href)},src:function(){return r.style.getPropertyValue("src")}}}}}(),S=function(){return{inlineAll:function a(g){return g instanceof Element?(o=g,r=o.style.getPropertyValue("background"),r?A.inlineAll(r).then(function(e){o.style.setProperty("background",e,o.style.getPropertyPriority("background"))}).then(function(){return o}):Promise.resolve(o)).then(function(){return g instanceof HTMLImageElement?l(g).inline():Promise.all(c.asArray(g.childNodes).map(function(o){return a(o)}))}):Promise.resolve(g);var o,r},impl:{newImage:l}};function l(g){return{inline:function(o){return c.isDataUrl(g.src)?Promise.resolve():Promise.resolve(g.src).then(o||c.getAndEncode).then(function(r){return c.dataAsUrl(r,c.mimeType(g.src))}).then(function(r){return new Promise(function(e,n){g.onload=e,g.onerror=n,g.src=r})})}}}}(),_={toSvg:E,toPng:function(l,a){return G(l,a||{}).then(function(g){return g.toDataURL()})},toJpeg:function(l,a){return G(l,a=a||{}).then(function(g){return g.toDataURL("image/jpeg",a.quality||1)})},toBlob:function(l,a){return G(l,a||{}).then(c.canvasToBlob)},toPixelData:function(l,a){return G(l,a||{}).then(function(g){return g.getContext("2d").getImageData(0,0,c.width(l),c.height(l)).data})},impl:{fontFaces:k,images:S,util:c,inliner:A,options:{}}};function E(l,a){return function(l){_.impl.options.imagePlaceholder=void 0===l.imagePlaceholder?undefined:l.imagePlaceholder,_.impl.options.cacheBust=void 0!==l.cacheBust&&l.cacheBust}(a=a||{}),Promise.resolve(l).then(function(u){return q(u,a.filter,!0)}).then(R).then(V).then(function(u){return a.bgcolor&&(u.style.backgroundColor=a.bgcolor),a.width&&(u.style.width=a.width+"px"),a.height&&(u.style.height=a.height+"px"),a.style&&Object.keys(a.style).forEach(function(o){u.style[o]=a.style[o]}),u}).then(function(u){return function(l,a,g){return Promise.resolve(l).then(function(u){return u.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(u)}).then(c.escapeXhtml).then(function(u){return'<foreignObject x="0" y="0" width="100%" height="100%">'+u+"</foreignObject>"}).then(function(u){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+a+'" height="'+g+'">'+u+"</svg>"}).then(function(u){return"data:image/svg+xml;charset=utf-8,"+u})}(u,a.width||c.width(l),a.height||c.height(l))})}function G(l,a){return E(l,a).then(c.makeImage).then(c.delay(100)).then(function(u){var o=function(u){var o=document.createElement("canvas");if(o.width=a.width||c.width(u),o.height=a.height||c.height(u),a.bgcolor){var r=o.getContext("2d");r.fillStyle=a.bgcolor,r.fillRect(0,0,o.width,o.height)}return o}(l);return o.getContext("2d").drawImage(u,0,0),o})}function q(l,a,g){return g||!a||a(l)?Promise.resolve(l).then(function(e){return e instanceof HTMLCanvasElement?c.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(e){return function(e,n,d){var C,w,v,b,h=e.childNodes;return 0===h.length?Promise.resolve(n):(C=n,w=c.asArray(h),v=d,b=Promise.resolve(),w.forEach(function(Z){b=b.then(function(){return q(Z,v)}).then(function(M){M&&C.appendChild(M)})}),b).then(function(){return n})}(l,e,a)}).then(function(e){return function(e,n){return n instanceof Element?Promise.resolve().then(function(){v=window.getComputedStyle(e),b=n.style,v.cssText?b.cssText=v.cssText:(x=b,c.asArray(M=v).forEach(function(i){x.setProperty(i,M.getPropertyValue(i),M.getPropertyPriority(i))}));var v,b,M,x}).then(function(){[":before",":after"].forEach(function(v){!function(v){var b=window.getComputedStyle(e,v),Z=b.getPropertyValue("content");if(""!==Z&&"none"!==Z){var M=c.uid();n.className=n.className+" "+M;var x=document.createElement("style");x.appendChild(function(p,m,f){var P="."+p+":"+m,O=f.cssText?H(f):Y(f);return document.createTextNode(P+"{"+O+"}");function H(y){var T=y.getPropertyValue("content");return y.cssText+" content: "+T+";"}function Y(y){return c.asArray(y).map(T).join("; ")+";";function T(U){return U+": "+y.getPropertyValue(U)+(y.getPropertyPriority(U)?" !important":"")}}}(M,v,b)),n.appendChild(x)}}(v)})}).then(function(){e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value),e instanceof HTMLInputElement&&n.setAttribute("value",e.value)}).then(function(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach(function(w){var v=n.getAttribute(w);!v||n.style.setProperty(w,v)}))}).then(function(){return n}):n}(l,e)}):Promise.resolve()}function R(l){return k.resolveAll().then(function(a){var g=document.createElement("style");return l.appendChild(g),g.appendChild(document.createTextNode(a)),l})}function V(l){return S.inlineAll(l).then(function(){return l})}Q.exports=_}()},333:(Q,I,c)=>{"use strict";c.r(I),c.d(I,{GeotagModule:()=>u});var A=c(6019),k=c(1729),S=c(5304),t=c(3668),_=c(3680),E=c(86),D=c(9136);function B(o,r){if(1&o&&(t.TgZ(0,"div",14),t.TgZ(1,"div",15),t._uU(2," \xa0"),t.qZA(),t.TgZ(3,"div",16),t.TgZ(4,"div",17),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Udp("background-image","url(../../../../assets/geotag/locations/"+(null==e.data||null==e.data.location?null:e.data.location.code)+".jpg)"),t.xp6(4),t.Oqu(null==e.data||null==e.data.location?null:e.data.location.title),t.xp6(2),t.Oqu(null==e.data||null==e.data.location?null:e.data.location.address),t.xp6(2),t.AsE("Lat ",null==e.data||null==e.data.location?null:e.data.location.lat,"\xb0 Long ",null==e.data||null==e.data.location?null:e.data.location.long,"\xb0"),t.xp6(2),t.AsE("",null==e.data?null:e.data.date," ",null==e.data?null:e.data.time," GMT +05:30")}}let j=(()=>{class o{constructor(e,n,d,h){this.dialogRef=e,this.data=n,this.router=d,this.appStateService=h}ngOnInit(){}closeDialog(){this.dialogRef.close()}download(){var e,n,d,h,s,C,w,v;this.closeDialog(),this.appStateService.clearState(),this.appStateService.setState({type:"geotag",id:encodeURIComponent(`${null===(n=null===(e=this.data)||void 0===e?void 0:e.location)||void 0===n?void 0:n.name}-${null===(d=this.data)||void 0===d?void 0:d.date}_${null===(h=this.data)||void 0===h?void 0:h.time}`),data:this.data}),this.router.navigate(["geotag/generate"],{queryParams:{id:encodeURIComponent(`${null===(C=null===(s=this.data)||void 0===s?void 0:s.location)||void 0===C?void 0:C.name}-${null===(w=this.data)||void 0===w?void 0:w.date}_${null===(v=this.data)||void 0===v?void 0:v.time}`)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.so),t.Y36(S.WI),t.Y36(k.F0),t.Y36(_.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-geo-preview-dialog"]],decls:20,vars:3,consts:[[1,"preview-container","color-light-black","font-size-14"],[1,"preview-header"],[1,"preview-title","font-headings","font-size-18"],[1,"preview-buttons"],["mat-icon-button","",3,"click"],[1,"color-primary"],[1,"color-grey"],[1,"preview-content"],[1,"geotag-container","color-white","font-roboto"],[1,"geotag-watermark-container"],[1,"geotag-watermark"],[1,"watermark-image"],[1,"watermark"],["class","geotag-details",4,"ngIf"],[1,"geotag-details"],[1,"map"],[1,"details"],[1,"location-title"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3,"GeoTag"),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"button",4),t.NdJ("click",function(){return n.download()}),t.TgZ(6,"mat-icon",5),t._uU(7,"download"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(9,"mat-icon",6),t._uU(10,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"div",8),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t._uU(16,"\xa0"),t.qZA(),t.TgZ(17,"div",12),t._uU(18,"GPS Map Camera"),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,B,12,8,"div",13),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.Udp("background-image",null!=n.data&&n.data.imageSrc?"url("+(null==n.data?null:n.data.imageSrc)+")":null),t.xp6(8),t.Q6J("ngIf",null==n.data?null:n.data.location))},directives:[E.lW,D.Hw,A.O5],styles:[".preview-container[_ngcontent-%COMP%]{height:100%}.preview-container[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:10px;line-height:20px;display:flex;justify-content:space-between;align-items:center;height:60px;border-bottom:1px solid #e0e0e0}.preview-container[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .preview-title[_ngcontent-%COMP%]{padding:10px}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{height:calc(100% - 60px);background:lightgray;background-repeat:no-repeat;background-size:cover}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]{position:relative;width:60vh;top:calc(100% - 18vh);padding:10px;font-size:12px}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:3px 3px 1px;background:rgba(0,0,0,.7);border-radius:2px 2px 0 0;overflow:hidden}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]   .watermark-image[_ngcontent-%COMP%]{width:20px;height:20px;background:url(watermark.61b7766421c1b6d9.jpg);border-radius:2px;overflow:hidden;background-repeat:no-repeat;background-size:cover}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]   .watermark[_ngcontent-%COMP%]{padding-left:4px;font-weight:bold;line-height:18px}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:12vh;height:12vh;border-radius:4px;overflow:hidden;background-image:url(BHAGAMANDALA.b45d1b94e6272525.jpg);background-repeat:no-repeat;background-size:cover}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:calc(100% - 12vh - 10px);height:12vh;line-height:16px;padding:6px 8px;margin-left:10px;background:rgba(0,0,0,.7);border-radius:4px 0 4px 4px;overflow:hidden}.preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .location-title[_ngcontent-%COMP%]{font-size:13px}"]}),o})(),L=(()=>{class o{}return o.GEO_LOCATIONS=[{name:"Bhagamandala",code:"BHAGAMANDALA",title:"Bhagamandala, Karnataka, India",address:"9gqh+642, Bhagamandala, Karnataka 571247, India",lat:12.387891,long:75.527831},{name:"College",code:"COLLEGE",title:"Madikeri, Karnataka, India",address:"Cpvr+329, Madikeri, Karnataka 571201, India",lat:12.441992,long:75.740235},{name:"Hospital",code:"HOSPITAL",title:"Madikeri, Karnataka, India",address:"Cp9v+m44, Stuart Hill, Madikeri, Karnataka 571201, India",lat:12.419022,long:75.742384}],o})();var N=c(1432),G=c(8065),q=c(2362);const R=["imageUpload"];let V=(()=>{class o{constructor(e){this.dialog=e,this.locations=JSON.parse(JSON.stringify(L.GEO_LOCATIONS)),this.locationOptions=this.locations.map(n=>n.name),this.setValue("date",new Date),this.setValue("time",this.toTwoDigits((new Date).getHours())+":"+this.toTwoDigits((new Date).getMinutes())),this.location=Object.assign({},this.locations[0])}ngOnInit(){}setValue(e,n){if("date"===e)this.dateBaseValue=new Date(n),this.date=`${this.toTwoDigits(new Date(n).getDate())}/${this.toTwoDigits(new Date(n).getMonth()+1)}/${this.toTwoDigits(new Date(n).getFullYear()%100)}`;else if("time"===e){this.timeBaseValue=n;const d=n.split(":");this.time=`${this.toTwoDigits(+d[0]%12)}:${this.toTwoDigits(d[1])} ${+d[0]<12?"AM":"PM"}`}else"location"===e&&(this.location=Object.assign({},this.locations.find(d=>d.name===n)||this.locations[0]))}randomizeCoordinates(){this.location&&(this.location.lat=+(this.location.lat+Math.floor(100*Math.random())/1e6).toFixed(6),this.location.long=+(this.location.lat+Math.floor(100*Math.random())/1e6).toFixed(6))}toTwoDigits(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}imageSelected(e){this.image=e.target.files[0],setTimeout(()=>this.reset(),100)}goNext(){this.randomizeCoordinates(),this.dialog.open(j,{data:{image:this.image,imageSrc:URL.createObjectURL(this.image),date:this.date,time:this.time,location:this.location},width:"60vh",height:"calc(80vh + 60px)",disableClose:!0,autoFocus:!1,panelClass:"no-padding-dialog"})}reset(){var e,n;try{(null===(n=null===(e=this.imageUpload)||void 0===e?void 0:e.nativeElement)||void 0===n?void 0:n.value)&&(this.imageUpload.nativeElement.value=null)}catch(d){}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-geo-setup"]],viewQuery:function(e,n){if(1&e&&t.Gf(R,5),2&e){let d;t.iGM(d=t.CRH())&&(n.imageUpload=d.first)}},decls:17,vars:11,consts:[[1,"home-container"],[1,"profile-container"],[1,"profile-box","blur-box","color-light-black","font-size-14"],[1,"font-headings","profile-main-text","color-black","font-size-18"],["label","Date",3,"baseValue","mandatory","valueChangeEvent"],["label","Time",3,"baseValue","mandatory","isTime","valueChangeEvent"],["label","Location",3,"baseValue","options","mandatory","valueChangeEvent"],["mat-stroked-button","",1,"button-stroked-common",3,"click"],["type","file",2,"display","none",3,"change"],["imageUpload",""],[1,"next-button-container"],["mat-icon-button","",3,"disabled","click"],[1,"color-white"]],template:function(e,n){if(1&e){const d=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4," GeoTag "),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"app-datepicker-field",4),t.NdJ("valueChangeEvent",function(s){return n.setValue("date",s)}),t.qZA(),t.TgZ(7,"app-input-field",5),t.NdJ("valueChangeEvent",function(s){return n.setValue("time",s)}),t.qZA(),t.TgZ(8,"app-dropdown-with-input",6),t.NdJ("valueChangeEvent",function(s){return n.setValue("location",s)}),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return t.CHM(d),t.MAs(12).click()}),t._uU(10,"Select Image "),t.qZA(),t.TgZ(11,"input",8,9),t.NdJ("change",function(s){return n.imageSelected(s)}),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return n.goNext()}),t.TgZ(15,"mat-icon",12),t._uU(16,"arrow_forward"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(6),t.Q6J("baseValue",n.dateBaseValue)("mandatory",!0),t.xp6(1),t.Q6J("baseValue",n.timeBaseValue)("mandatory",!0)("isTime",!0),t.xp6(1),t.Q6J("baseValue",null==n.location?null:n.location.name)("options",n.locationOptions)("mandatory",!0),t.xp6(6),t.ekj("next-button-disabled",!(n.time&&n.date&&n.image&&n.location)),t.Q6J("disabled",!(n.time&&n.date&&n.image&&n.location)))},directives:[N.n,G.q,q.O,E.lW,D.Hw],styles:['.home-container[_ngcontent-%COMP%]{font-family:"Titillium Web",sans-serif;color:#333;font-size:14px;line-height:20px;height:100vh;background:url(background.092e870d298cafc1.jpg);background-repeat:no-repeat;background-size:cover}.blur-box[_ngcontent-%COMP%]{box-shadow:0 25px 45px #00000040;background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.1);border-right:1px solid rgba(255,255,255,.05);border-bottom:1px solid rgba(255,255,255,.05);align-items:center}.profile-container[_ngcontent-%COMP%]{text-align:center;padding-top:200px}.profile-box[_ngcontent-%COMP%]{width:300px;height:400px;display:inline-block;border-radius:10px;line-height:20px;padding:10px}.profile-main-text[_ngcontent-%COMP%]{padding:20px}.next-button-container[_ngcontent-%COMP%]{padding-top:20px}.next-button-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{background:#8d4b2c!important}.next-button-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-2px}.next-button-disabled[_ngcontent-%COMP%]{opacity:.4}']}),o})();var z=c(5356),F=c.n(z);function J(o,r){if(1&o&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t._uU(3," \xa0"),t.qZA(),t.qZA(),t.TgZ(4,"div",12),t.TgZ(5,"div",13),t._uU(6),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Udp("background-image","url(../../../../assets/geotag/locations/"+(null==e.data||null==e.data.location?null:e.data.location.code)+".jpg)"),t.xp6(4),t.Oqu(null==e.data||null==e.data.location?null:e.data.location.title),t.xp6(2),t.Oqu(null==e.data||null==e.data.location?null:e.data.location.address),t.xp6(2),t.AsE("Lat ",null==e.data||null==e.data.location?null:e.data.location.lat,"\xb0 Long ",null==e.data||null==e.data.location?null:e.data.location.long,"\xb0"),t.xp6(2),t.AsE("",null==e.data?null:e.data.date," ",null==e.data?null:e.data.time," GMT +05:30")}}function $(o,r){if(1&o&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6,"\xa0"),t.qZA(),t.TgZ(7,"div",7),t._uU(8,"GPS Map Camera"),t.qZA(),t.qZA(),t.qZA(),t.YNc(9,J,13,8,"div",8),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Udp("background-image",null!=e.data&&e.data.imageSrc?"url("+(null==e.data?null:e.data.imageSrc)+")":null),t.xp6(8),t.Q6J("ngIf",null==e.data?null:e.data.location)}}const l=[{path:"",pathMatch:"full",component:V},{path:"generate",component:(()=>{class o{constructor(e,n,d){this.route=e,this.router=n,this.appStateService=d,this.route.queryParams.subscribe(h=>{h.id&&(this.id=h.id,this.getData())})}ngOnInit(){}getData(){const e=this.appStateService.getState();"geotag"===(null==e?void 0:e.type)&&(null==e?void 0:e.id)===this.id?(this.data=e.data,setTimeout(()=>this.download(),10)):this.backToGeoTag()}download(){this.appStateService.clearState(),F().toJpeg(document.getElementById("geoTagContent"),{quality:.95}).then(function(e){var n,d,h,s;let C=document.createElement("a");C.download=`GPS_Map_Camera-${null===(d=null===(n=this.data)||void 0===n?void 0:n.location)||void 0===d?void 0:d.name}-${null===(h=this.data)||void 0===h?void 0:h.date}_${null===(s=this.data)||void 0===s?void 0:s.time}.jpeg`,C.href=e,C.click(),this.backToGeoTag()}.bind(this))}backToGeoTag(){this.appStateService.clearState(),this.router.navigate(["geotag"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k.gz),t.Y36(k.F0),t.Y36(_.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-geotag-generator"]],decls:1,vars:1,consts:[["id","geoTagContent","class","generator-container",4,"ngIf"],["id","geoTagContent",1,"generator-container"],[1,"preview-content"],[1,"geotag-container","color-white","font-roboto"],[1,"geotag-watermark-container"],[1,"geotag-watermark"],[1,"watermark-image"],[1,"watermark"],["class","geotag-details",4,"ngIf"],[1,"geotag-details"],[1,"map-container"],[1,"map"],[1,"details"],[1,"location-title"]],template:function(e,n){1&e&&t.YNc(0,$,10,3,"div",0),2&e&&t.Q6J("ngIf",n.data)},directives:[A.O5],styles:[".generator-container[_ngcontent-%COMP%]{width:600px;height:800px}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{height:100%;width:100%;background:lightgray;background-repeat:no-repeat;background-size:cover}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]{position:relative;width:100%;top:calc(100% - 177px);padding:14px;font-size:16px}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:6px 6px 3px;background:rgba(0,0,0,.7);border-radius:4px 4px 0 0;overflow:hidden;width:156px}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]   .watermark-image[_ngcontent-%COMP%]{width:20px;height:20px;background:url(watermark.61b7766421c1b6d9.jpg);border-radius:2px;overflow:hidden;background-repeat:no-repeat;background-size:cover}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-watermark-container[_ngcontent-%COMP%]   .geotag-watermark[_ngcontent-%COMP%]   .watermark[_ngcontent-%COMP%]{width:124px;padding-left:4px;font-weight:bold;line-height:20px;font-size:14px}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{width:120px;height:120px}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{margin:-1px;width:122px;height:122px;border-radius:2px;overflow:hidden;background-image:url(BHAGAMANDALA.b45d1b94e6272525.jpg);background-repeat:no-repeat;background-size:cover}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:calc(100% - 132px);height:120px;line-height:26px;padding:6px 8px;margin-left:12px;background:rgba(0,0,0,.7);border-radius:4px 0 4px 4px;overflow:hidden}.generator-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .geotag-container[_ngcontent-%COMP%]   .geotag-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .location-title[_ngcontent-%COMP%]{font-size:17px}"]}),o})()}];let a=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[k.Bz.forChild(l)],k.Bz]}),o})();var g=c(5805);let u=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.ez,a,g.m]]}),o})()}}]);